{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\naoui\\\\Desktop\\\\RE1\\\\real-estate\\\\client\\\\src\\\\Pages\\\\Form\\\\Form.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from \"mdbreact\";\nimport \"./Form.css\";\nimport API from \"../../utils/API\";\nimport { useAuth0 } from '@auth0/auth0-react';\nimport LogoutButton from \"../../components/LogoutButton/LogoutButton\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Form = () => {\n  let history = useHistory();\n  const {\n    user\n  } = useAuth0();\n  const nateDog = useAuth0();\n  const [values, setValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    maxPrice: \"\"\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setErrors(validation(values));\n    setIsSubmitting(true); // submit();\n  };\n\n  useEffect(() => {\n    //check to see if there are any errors, if not, then submit \n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      submit();\n    }\n  }, [errors]);\n\n  function submit() {\n    API.saveUser(values).then(response => {\n      setValues(response.data);\n    }).catch(err => console.log(err)); // console.log(\"Submitted Successfully: pass validation\", values)\n    // history.push('/main');\n    //routing back to Invisible page --> otherwise MainPaige does not get Auto0 props\n\n    history.push('/invisible');\n  }\n\n  function validation(values) {\n    let errors = {};\n\n    if (!values.firstName) {\n      errors.firstName = \"First Name is required\";\n    }\n\n    if (!values.lastName) {\n      errors.lastName = \"Last Name is required\";\n    }\n\n    if (!values.email) {\n      errors.email = \"Email is required\";\n    }\n\n    if (!values.phone) {\n      errors.phone = \"Phone number is required\";\n    }\n\n    return errors;\n  }\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(MDBContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MDBRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MDBCol, {\n    md: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(MDBCol, {\n    md: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MDBInput, {\n    className: `${errors.firstName && \"inputError\"}`,\n    name: \"firstName\",\n    label: \"First Name\",\n    value: values.firstName,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }), errors.firstName && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 46\n    }\n  }, errors.firstName), /*#__PURE__*/React.createElement(MDBInput, {\n    className: `${errors.lastName && \"inputError\"}`,\n    name: \"lastName\",\n    label: \"Last Name\",\n    value: values.lastName,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }), errors.lastName && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 45\n    }\n  }, errors.lastName), /*#__PURE__*/React.createElement(MDBInput, {\n    className: `${errors.email && \"inputError\"}`,\n    name: \"email\",\n    label: \"Email\",\n    value: values.email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }), errors.email && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 42\n    }\n  }, errors.email), /*#__PURE__*/React.createElement(MDBInput, {\n    className: `${errors.phone && \"inputError\"}`,\n    name: \"phone\",\n    label: \"Phone\",\n    value: values.phone,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }), errors.phone && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 42\n    }\n  }, errors.phone), /*#__PURE__*/React.createElement(MDBInput, {\n    className: `${errors.maxPrice && \"inputError\"}`,\n    name: \"maxPrice\",\n    label: \"Max Price\",\n    value: values.maxPrice,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }), errors.maxPrice && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 45\n    }\n  }, errors.maxPrice), /*#__PURE__*/React.createElement(MDBBtn, {\n    type: \"submit\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(LogoutButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(MDBCol, {\n    md: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Form;","map":{"version":3,"sources":["C:/Users/naoui/Desktop/RE1/real-estate/client/src/Pages/Form/Form.js"],"names":["React","useState","useEffect","MDBContainer","MDBRow","MDBCol","MDBInput","MDBBtn","API","useAuth0","LogoutButton","useHistory","Form","history","user","nateDog","values","setValues","firstName","lastName","email","phone","maxPrice","errors","setErrors","isSubmitting","setIsSubmitting","handleSubmit","event","preventDefault","validation","Object","keys","length","submit","saveUser","then","response","data","catch","err","console","log","push","handleChange","name","value","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\r\nimport { MDBContainer, MDBRow, MDBCol, MDBInput, MDBBtn } from \"mdbreact\";\r\nimport \"./Form.css\"\r\nimport API from \"../../utils/API\"\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport LogoutButton from \"../../components/LogoutButton/LogoutButton\"\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst Form = () => {\r\n    let history = useHistory();\r\n    const { user} = useAuth0();\r\n\r\n    const nateDog = useAuth0();\r\n    \r\n    const [values, setValues] = useState({ firstName: \"\", lastName: \"\", email: \"\", phone: \"\", maxPrice: \"\"});\r\n    const [errors, setErrors] = useState({});\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    const handleSubmit = event => {\r\n\r\n        event.preventDefault();\r\n        setErrors(validation(values));\r\n        setIsSubmitting(true);\r\n        // submit();\r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n        //check to see if there are any errors, if not, then submit \r\n        if (Object.keys(errors).length === 0 && isSubmitting) {\r\n            submit();\r\n            \r\n        }\r\n    }, [errors])\r\n\r\n    function submit() {\r\n        \r\n        API.saveUser(values)\r\n            .then(response => {\r\n\r\n                setValues(response.data)\r\n            })\r\n            .catch(err => console.log(err))\r\n        \r\n        // console.log(\"Submitted Successfully: pass validation\", values)\r\n        // history.push('/main');\r\n        //routing back to Invisible page --> otherwise MainPaige does not get Auto0 props\r\n        history.push('/invisible');\r\n    }\r\n\r\n    function validation(values) {\r\n\r\n        let errors = {};\r\n\r\n        if (!values.firstName) {\r\n            errors.firstName = \"First Name is required\";\r\n        }\r\n        if (!values.lastName) {\r\n            errors.lastName = \"Last Name is required\";\r\n        }\r\n        if (!values.email) {\r\n            errors.email = \"Email is required\";\r\n        }\r\n        if (!values.phone) {\r\n            errors.phone = \"Phone number is required\";\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    const handleChange = event => {\r\n        \r\n        const {name, value } = event.target;\r\n        setValues(\r\n            {\r\n            ...values,\r\n            [name]: value\r\n            }\r\n        )\r\n\r\n    }\r\n    \r\n    return (\r\n\r\n        <MDBContainer>\r\n            <MDBRow>\r\n                <MDBCol md=\"3\"></MDBCol>\r\n\r\n                <MDBCol md=\"6\">\r\n                    <form onSubmit={handleSubmit} className=\"d-flex flex-column\">\r\n                    <MDBInput\r\n                        className={`${errors.firstName && \"inputError\"}`}\r\n                        name=\"firstName\"\r\n                        label=\"First Name\"\r\n                        value={values.firstName}\r\n                        onChange={handleChange} />\r\n                        {errors.firstName && <p className=\"error\">{errors.firstName}</p>}\r\n                    <MDBInput \r\n                        className={`${errors.lastName && \"inputError\"}`}\r\n                        name=\"lastName\" \r\n                        label=\"Last Name\" \r\n                        value={values.lastName}\r\n                        onChange={handleChange} />\r\n                        {errors.lastName && <p className=\"error\">{errors.lastName}</p>}\r\n                    <MDBInput \r\n                        className={`${errors.email && \"inputError\"}`}\r\n                        name=\"email\" \r\n                        label=\"Email\" \r\n                        value={values.email}\r\n                        onChange={handleChange} />\r\n                        {errors.email && <p className=\"error\">{errors.email}</p>}\r\n                    <MDBInput \r\n                        className={`${errors.phone && \"inputError\"}`}\r\n                        name=\"phone\" \r\n                        label=\"Phone\" \r\n                        value={values.phone}\r\n                        onChange={handleChange} />\r\n                        {errors.phone && <p className=\"error\">{errors.phone}</p>}\r\n                    <MDBInput \r\n                        className={`${errors.maxPrice && \"inputError\"}`}\r\n                        name=\"maxPrice\" \r\n                        label=\"Max Price\" \r\n                        value={values.maxPrice}\r\n                        onChange={handleChange} />\r\n                        {errors.maxPrice && <p className=\"error\">{errors.maxPrice}</p>}\r\n                        \r\n                    <MDBBtn type=\"submit\" color=\"primary\">Submit</MDBBtn>\r\n                        <LogoutButton />\r\n                    </form>\r\n                </MDBCol>\r\n\r\n                <MDBCol md=\"3\"></MDBCol>\r\n            </MDBRow>\r\n        </MDBContainer>\r\n\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}