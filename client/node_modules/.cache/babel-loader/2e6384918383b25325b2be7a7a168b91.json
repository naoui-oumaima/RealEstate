{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\naoui\\\\Desktop\\\\RE1\\\\real-estate\\\\client\\\\src\\\\Pages\\\\MainPage\\\\Main.js\";\nimport React, { Component } from \"react\";\nimport SearchForm from \"../../components/searchform/SearchForm.js\";\nimport { MDBRow, MDBCol, MDBContainer } from 'mdbreact';\nimport Nav from \"../../components/Nav/Nav\";\nimport CardHomeInfo from \"../../components/CardHomeInfo/CardHomeInfo\";\nimport MapContainer from \"../../components/MapContainer/MapContainer\";\nimport \"./Main.css\";\nimport Contact from \"../../components/Contact/Contact\";\nimport API from \"../../utils/API\";\n\nclass MainPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.searchHouses = query => {\n      let stateCodeArr = query.split(\", \");\n      let stateCode = stateCodeArr[1];\n      let city = stateCodeArr[0];\n      let beds = this.state.selectedBed;\n      let baths = this.state.selectedBath;\n      let priceMin = this.state.selectedMin;\n      let priceMax = this.state.selectedMax;\n      let sqft = this.state.selectedSqFt;\n      API.search(city, stateCode, beds, priceMin, baths, priceMax, sqft).then(data => this.setState({\n        result: data.data.properties\n      })).catch(err => console.log(err)); //this.setState({result: TestAPIData.properties}) \n    };\n\n    this.handleInputChange = event => {\n      const value = event.target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      let beds = this.state.selectedBed;\n      let baths = this.state.selectedBath;\n      let priceMin = this.state.selectedMin;\n      let priceMax = this.state.selectedMax;\n      let sqft = this.state.selectedSqFt;\n      event.preventDefault();\n      this.searchHouses(this.state.search, beds, priceMin, baths, priceMax, sqft);\n    };\n\n    this.state = {\n      user: props.user,\n      result: [],\n      search: \"Mesa\",\n      selectedBed: null,\n      selectedBath: null,\n      selectedMax: null,\n      selectedMin: null,\n      selectedSqFt: null\n    };\n    console.log(\"the state of props\", props);\n    console.log(\"the state of MainPage\", this.state);\n  }\n\n  componentDidMount() {\n    this.searchHouses(\"Mesa, AZ\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(SearchForm, {\n      className: \"searchBox\",\n      value: this.state.search,\n      handleInputChange: this.handleInputChange,\n      handleFormSubmit: this.handleFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(MDBContainer, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MDBRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      className: \"d-none d-lg-block\",\n      lg: \"8\",\n      xl: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MapContainer, {\n      properties: this.state.result,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Contact, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(MDBCol, {\n      lg: \"4\",\n      xl: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MDBRow, {\n      className: \"align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, this.state.result.map(property => /*#__PURE__*/React.createElement(MDBCol, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(CardHomeInfo, {\n      address: property.address.line,\n      city: property.address.city,\n      state: property.address.state,\n      zip: property.address.postal_code,\n      price: property.price,\n      src: property.thumbnail,\n      bedrooms: property.beds,\n      bathrooms: property.baths,\n      email: this.props.user.email,\n      property_id: property.property_id // sqft={property.building_size.size}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 41\n      }\n    }))))))));\n  }\n\n}\n\nexport default MainPage; // export default withAuthenticationRequired(MainPage, {\n//     // Show a message while the user waits to be redirected to the login page.\n//     onRedirecting: () => (<div>Redirecting you to the login page...</div>)\n//   });","map":{"version":3,"sources":["C:/Users/naoui/Desktop/RE1/real-estate/client/src/Pages/MainPage/Main.js"],"names":["React","Component","SearchForm","MDBRow","MDBCol","MDBContainer","Nav","CardHomeInfo","MapContainer","Contact","API","MainPage","constructor","props","searchHouses","query","stateCodeArr","split","stateCode","city","beds","state","selectedBed","baths","selectedBath","priceMin","selectedMin","priceMax","selectedMax","sqft","selectedSqFt","search","then","data","setState","result","properties","catch","err","console","log","handleInputChange","event","value","target","name","handleFormSubmit","preventDefault","user","componentDidMount","render","map","property","address","line","postal_code","price","thumbnail","email","property_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,2CAAvB;AACA,SAAQC,MAAR,EAAgBC,MAAhB,EAAwBC,YAAxB,QAA4C,UAA5C;AACA,OAAOC,GAAP,MAAgB,0BAAhB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,OAAO,YAAP;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;;AAEA,MAAMC,QAAN,SAAuBV,SAAvB,CAAiC;AAC7BW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAsBnBC,YAtBmB,GAsBHC,KAAD,IAAW;AACtB,UAAIC,YAAY,GAAGD,KAAK,CAACE,KAAN,CAAY,IAAZ,CAAnB;AACA,UAAIC,SAAS,GAAGF,YAAY,CAAC,CAAD,CAA5B;AACA,UAAIG,IAAI,GAAGH,YAAY,CAAC,CAAD,CAAvB;AACA,UAAII,IAAI,GAAG,KAAKC,KAAL,CAAWC,WAAtB;AACA,UAAIC,KAAK,GAAG,KAAKF,KAAL,CAAWG,YAAvB;AACA,UAAIC,QAAQ,GAAG,KAAKJ,KAAL,CAAWK,WAA1B;AACA,UAAIC,QAAQ,GAAG,KAAKN,KAAL,CAAWO,WAA1B;AACA,UAAIC,IAAI,GAAG,KAAKR,KAAL,CAAWS,YAAtB;AACApB,MAAAA,GAAG,CAACqB,MAAJ,CAAWZ,IAAX,EAAgBD,SAAhB,EAA2BE,IAA3B,EAAiCK,QAAjC,EAA2CF,KAA3C,EAAkDI,QAAlD,EAA4DE,IAA5D,EACKG,IADL,CACUC,IAAI,IAAI,KAAKC,QAAL,CAAc;AAAEC,QAAAA,MAAM,EAAEF,IAAI,CAACA,IAAL,CAAUG;AAApB,OAAd,CADlB,EAEKC,KAFL,CAEWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFlB,EATsB,CAYtB;AACH,KAnCkB;;AAAA,SAqCnBG,iBArCmB,GAqCCC,KAAK,IAAI;AACzB,YAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACA,YAAME,IAAI,GAAGH,KAAK,CAACE,MAAN,CAAaC,IAA1B;AACA,WAAKX,QAAL,CAAc;AACV,SAACW,IAAD,GAAQF;AADE,OAAd;AAIH,KA5CkB;;AAAA,SA8CnBG,gBA9CmB,GA8CAJ,KAAK,IAAI;AACxB,UAAItB,IAAI,GAAG,KAAKC,KAAL,CAAWC,WAAtB;AACA,UAAIC,KAAK,GAAG,KAAKF,KAAL,CAAWG,YAAvB;AACA,UAAIC,QAAQ,GAAG,KAAKJ,KAAL,CAAWK,WAA1B;AACA,UAAIC,QAAQ,GAAG,KAAKN,KAAL,CAAWO,WAA1B;AACA,UAAIC,IAAI,GAAG,KAAKR,KAAL,CAAWS,YAAtB;AACAY,MAAAA,KAAK,CAACK,cAAN;AACA,WAAKjC,YAAL,CAAkB,KAAKO,KAAL,CAAWU,MAA7B,EAAoCX,IAApC,EAAyCK,QAAzC,EAAkDF,KAAlD,EAAwDI,QAAxD,EAAiEE,IAAjE;AACH,KAtDkB;;AAGf,SAAKR,KAAL,GAAa;AACT2B,MAAAA,IAAI,EAAEnC,KAAK,CAACmC,IADH;AAETb,MAAAA,MAAM,EAAE,EAFC;AAGTJ,MAAAA,MAAM,EAAE,MAHC;AAITT,MAAAA,WAAW,EAAE,IAJJ;AAKTE,MAAAA,YAAY,EAAC,IALJ;AAMTI,MAAAA,WAAW,EAAC,IANH;AAOTF,MAAAA,WAAW,EAAC,IAPH;AAQTI,MAAAA,YAAY,EAAC;AARJ,KAAb;AAUAS,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiC3B,KAAjC;AACA0B,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoC,KAAKnB,KAAzC;AACH;;AAED4B,EAAAA,iBAAiB,GAAG;AAChB,SAAKnC,YAAL,CAAkB,UAAlB;AAEH;;AAsCDoC,EAAAA,MAAM,GAAG;AACL,wBACI,uDAEI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAII,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,WAAtB;AACI,MAAA,KAAK,EAAE,KAAK7B,KAAL,CAAWU,MADtB;AAEI,MAAA,iBAAiB,EAAE,KAAKU,iBAF5B;AAGI,MAAA,gBAAgB,EAAE,KAAKK,gBAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,eAWI,oBAAC,YAAD;AAAc,MAAA,KAAK,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,mBAAlB;AAAsC,MAAA,EAAE,EAAC,GAAzC;AAA6C,MAAA,EAAE,EAAC,GAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAc,MAAA,UAAU,EAAE,KAAKzB,KAAL,CAAWc,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CAFJ,eAOI,oBAAC,MAAD;AAAS,MAAA,EAAE,EAAC,GAAZ;AAAgB,MAAA,EAAE,EAAC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,oBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKd,KAAL,CAAWc,MAAX,CAAkBgB,GAAlB,CAAsBC,QAAQ,iBAC3B,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,YAAD;AACI,MAAA,OAAO,EAAEA,QAAQ,CAACC,OAAT,CAAiBC,IAD9B;AAEI,MAAA,IAAI,EAAEF,QAAQ,CAACC,OAAT,CAAiBlC,IAF3B;AAGI,MAAA,KAAK,EAAEiC,QAAQ,CAACC,OAAT,CAAiBhC,KAH5B;AAII,MAAA,GAAG,EAAE+B,QAAQ,CAACC,OAAT,CAAiBE,WAJ1B;AAKI,MAAA,KAAK,EAAEH,QAAQ,CAACI,KALpB;AAMI,MAAA,GAAG,EAAEJ,QAAQ,CAACK,SANlB;AAOI,MAAA,QAAQ,EAAEL,QAAQ,CAAChC,IAPvB;AAQI,MAAA,SAAS,EAAEgC,QAAQ,CAAC7B,KARxB;AASI,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWmC,IAAX,CAAgBU,KAT3B;AAUI,MAAA,WAAW,EAAEN,QAAQ,CAACO,WAV1B,CAWI;AAXJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADH,CADL,CADJ,CAPJ,CADJ,CAXJ,CADJ;AA8CH;;AA1G4B;;AA6GjC,eAAehD,QAAf,C,CAEA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from \"react\";\r\nimport SearchForm from \"../../components/searchform/SearchForm.js\";\r\nimport {MDBRow, MDBCol, MDBContainer } from 'mdbreact';\r\nimport Nav from \"../../components/Nav/Nav\";\r\nimport CardHomeInfo from \"../../components/CardHomeInfo/CardHomeInfo\";\r\nimport MapContainer from \"../../components/MapContainer/MapContainer\"\r\nimport \"./Main.css\"\r\nimport Contact from \"../../components/Contact/Contact\";\r\nimport API from \"../../utils/API\";\r\n\r\nclass MainPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n       \r\n        this.state = {\r\n            user: props.user,\r\n            result: [],\r\n            search: \"Mesa\",    \r\n            selectedBed: null,\r\n            selectedBath:null,\r\n            selectedMax:null,\r\n            selectedMin:null,\r\n            selectedSqFt:null          \r\n           };\r\n        console.log(\"the state of props\",props);\r\n        console.log(\"the state of MainPage\",this.state);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.searchHouses(\"Mesa, AZ\");\r\n\r\n    }\r\n\r\n    searchHouses = (query) => {\r\n        let stateCodeArr = query.split(\", \");\r\n        let stateCode = stateCodeArr[1];\r\n        let city = stateCodeArr[0];\r\n        let beds = this.state.selectedBed;\r\n        let baths = this.state.selectedBath;\r\n        let priceMin = this.state.selectedMin;\r\n        let priceMax = this.state.selectedMax;\r\n        let sqft = this.state.selectedSqFt;\r\n        API.search(city,stateCode, beds, priceMin, baths, priceMax, sqft)\r\n            .then(data => this.setState({ result: data.data.properties }))\r\n            .catch(err => console.log(err));\r\n        //this.setState({result: TestAPIData.properties}) \r\n    };\r\n\r\n    handleInputChange = event => {\r\n        const value = event.target.value;\r\n        const name = event.target.name;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n        \r\n    };\r\n\r\n    handleFormSubmit = event => {\r\n        let beds = this.state.selectedBed;\r\n        let baths = this.state.selectedBath;\r\n        let priceMin = this.state.selectedMin;\r\n        let priceMax = this.state.selectedMax;\r\n        let sqft = this.state.selectedSqFt;\r\n        event.preventDefault();\r\n        this.searchHouses(this.state.search,beds,priceMin,baths,priceMax,sqft);\r\n    };\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n\r\n                <Nav></Nav>\r\n                     \r\n                <SearchForm className=\"searchBox\"\r\n                    value={this.state.search}\r\n                    handleInputChange={this.handleInputChange}\r\n                    handleFormSubmit={this.handleFormSubmit}\r\n                    \r\n                />              \r\n\r\n                <MDBContainer fluid>\r\n                    <MDBRow>\r\n                        {/* hide on screens smaller than lg */}\r\n                        <MDBCol className=\"d-none d-lg-block\" lg=\"8\" xl=\"6\">  \r\n                            <MapContainer properties={this.state.result} />\r\n                            <br></br>\r\n                            <Contact />\r\n                        </MDBCol>\r\n                        <MDBCol  lg=\"4\" xl=\"6\">\r\n                            <MDBRow className=\"align-items-center\">\r\n                                {this.state.result.map(property => (\r\n                                    <MDBCol>\r\n\r\n                                        <CardHomeInfo\r\n                                            address={property.address.line}\r\n                                            city={property.address.city}\r\n                                            state={property.address.state}\r\n                                            zip={property.address.postal_code}\r\n                                            price={property.price}\r\n                                            src={property.thumbnail}\r\n                                            bedrooms={property.beds}\r\n                                            bathrooms={property.baths}\r\n                                            email={this.props.user.email}\r\n                                            property_id={property.property_id}\r\n                                            // sqft={property.building_size.size}\r\n                                        />\r\n                                    </MDBCol>\r\n                                ))}\r\n                            </MDBRow>\r\n                        </MDBCol>\r\n                    </MDBRow>\r\n                </MDBContainer>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MainPage;\r\n\r\n// export default withAuthenticationRequired(MainPage, {\r\n//     // Show a message while the user waits to be redirected to the login page.\r\n//     onRedirecting: () => (<div>Redirecting you to the login page...</div>)\r\n//   });\r\n"]},"metadata":{},"sourceType":"module"}